---
# Variables for MySQL 8.0 servers

mysql_packages:
  - mysql-server
  - python3-pymysql

mysql_config:
  version: 8.0
  innodb_buffer_pool_size: "4G"
  max_connections: 500
  isolation_level: READ-COMMITTED

mysql_root_user: root
mysql_bind_address: 127.0.0.1
mysql_port: 3306
mysql_data_dir: >-
  {{ (data_volume_root | default('') | length > 0)
    | ternary((data_volume_root | regex_replace('/+$', '')) ~ '/mysql', '/var/lib/mysql') }}
mysql_unix_socket: /run/mysqld/mysqld.sock
mysql_error_log: "/var/log/mysql/error.log"
mysql_service_name: "mysql"

mysql_custom_settings:
  transaction-isolation: READ-COMMITTED
  log_bin_trust_function_creators: 1

mysql_column_case_sensitive: true
