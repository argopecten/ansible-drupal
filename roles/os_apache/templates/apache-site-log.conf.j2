# /etc/apache2/conf-available/vhost-access-log.conf
# Apache vhost access log configuration on {{ inventory_hostname }}
# {{ ansible_managed }} at {{ ansible_date_time.date }} {{ ansible_date_time.time }}

# The following directives define some format nicknames for use with a CustomLog directive.
# Note that the use of %{X-Forwarded-For}i instead of %h is not recommended.
# Use mod_remoteip instead.
LogFormat "%v:%p %h %l %u %t \"%r\" %>s %O \"%{Referer}i\" \"%{User-Agent}i\"" vhost_combined
LogFormat "%h %l %u %t \"%r\" %>s %O \"%{Referer}i\" \"%{User-Agent}i\"" combined
LogFormat "%h %l %u %t \"%r\" %>s %O" common
LogFormat "%{Referer}i -> %U" referer
LogFormat "%{User-agent}i" agent

# Journald-friendly format (key=value) including vhost for site-specific logging.
LogFormat "vhost=%v ip=%a ident=%l user=%u time=\"%t\" request=\"%r\" status=%>s bytes=%O referer=\"%{Referer}i\" agent=\"%{User-agent}i\"" vhost_journal
